# Configuraci√≥n de Amazon EC2: Creaci√≥n de Instancia (Capa Gratuita)

La instancia de **Amazon EC2** (Elastic Compute Cloud) ser√° tu servidor virtual en la nube, donde correr√° tu aplicaci√≥n Ruby on Rails. Aqu√≠ te mostraremos c√≥mo crear una instancia dentro de los l√≠mites de la capa gratuita de AWS.

## 1. Lanzar una Nueva Instancia EC2 üöÄ

1. **Inicia sesi√≥n en la Consola de AWS** con tu usuario IAM (el que creamos al inicio).
2. En la barra de b√∫squeda superior, escribe **"EC2"** y selecciona el servicio.
3. En el panel de navegaci√≥n de la izquierda, bajo **"Instances"**, haz clic en **"Instances"**.
4. Haz clic en el bot√≥n naranja **"Launch instances"** (Lanzar instancias).

## 2. Configurar los Detalles de la Instancia üõ†Ô∏è

Aqu√≠ es donde definimos las especificaciones de nuestro servidor.

- **Name and tags:**

    - **Name:** Dale un nombre a tu instancia, por ejemplo: `blogdepruebaaws-server`. Esto te ayudar√° a identificarla f√°cilmente.

- **Application and OS Images (Amazon Machine Image - AMI):**

    - **Quick Start:** Busca y selecciona **"Ubuntu"**.
    - **Ubuntu Server 22.04 LTS (HVM), SSD Volume Type:** Aseg√∫rate de seleccionar esta versi√≥n. Es un sistema operativo Linux robusto y popular para despliegues.
    - **Architecture:** Deja **"64-bit (x86)"**.
    - **¬°Importante!** Aseg√∫rate de que tenga la etiqueta **"Free tier eligible"**.

- **Instance type:**

    - Aqu√≠ es crucial elegir una instancia que califique para la capa gratuita. Selecciona **"t2.micro"**.
    - **¬°Importante!** Confirma que diga **"Free tier eligible"** junto a `t2.micro`.

- **Key pair (login):**

    - Un "key pair" es un par de claves criptogr√°ficas que usar√°s para conectarte de forma segura a tu instancia via SSH.
    - **Key pair name:** Si ya tienes uno de proyectos anteriores, puedes usarlo. Si no, selecciona **"Create new key pair"**.
        - **Key pair name:** Dale un nombre descriptivo, por ejemplo: `blogdepruebaaws-key`.
        - **Key pair type:** Deja **"RSA"**.
        - **Private key format:** Selecciona **".pem"**. Este formato es el est√°ndar para SSH.
        - Haz clic en **"Create key pair"**.
        - **¬°Atenci√≥n!** Tu navegador descargar√° autom√°ticamente el archivo `.pem` (ej. `blogdepruebaaws-key.pem`). **Guarda este archivo en un lugar muy seguro y privado de tu computadora.** Lo necesitar√°s cada vez que quieras conectarte a tu servidor. Si lo pierdes, no podr√°s acceder a tu instancia.

- **Network settings:**

    - **VPC:** Deja la **VPC predeterminada** que tiene tu cuenta (suele ser la m√°s sencilla para empezar).
    - **Subnet:** Deja **"No preference"** si est√°s usando la VPC predeterminada, o selecciona una si ya sabes cu√°l quieres.
    - **Auto-assign public IP:** Aseg√∫rate de que est√© **"Enable"**. Esto le dar√° a tu instancia una direcci√≥n IP p√∫blica para que puedas acceder a ella desde internet.
    - **Firewall (Security groups):**
        - Selecciona **"Create security group"**.
        - **Security group name:** Dale un nombre, por ejemplo: `blogdepruebaaws-sg`.
        - **Description:** `Security group for my Rails blog server`.
        - **Inbound security group rules:** Estas son las reglas que permiten el tr√°fico de entrada a tu servidor.
            - **Rule 1 (SSH):**
                - **Type:** `SSH`
                - **Source type:** `My IP`. Esto es lo m√°s seguro, ya que solo permite conexiones SSH desde tu direcci√≥n IP actual. Si tu IP cambia con frecuencia o si necesitas acceder desde m√∫ltiples ubicaciones, puedes cambiarlo a `Anywhere` (`0.0.0.0/0`), **pero esto es menos seguro**. Para producci√≥n, considera una VPN o saltos intermedios.
            - **Add security group rule:**
                - **Type:** `HTTP`
                - **Source type:** `Anywhere` (`0.0.0.0/0`). Necesitas que el mundo pueda acceder a tu aplicaci√≥n web.
            - **Add security group rule:** (Opcional, pero recomendado si planeas usar HTTPS)
                - **Type:** `HTTPS`
                - **Source type:** `Anywhere` (`0.0.0.0/0`).

- **Configure storage:**

    - **General Purpose SSD (gp2):** Deja esta opci√≥n.
    - **Size (GiB):** Para la capa gratuita, puedes usar hasta **30 GiB**. Deja el valor predeterminado (generalmente 8 GiB o 10 GiB) si es suficiente, o aj√∫stalo hasta 30 GiB si crees que tu aplicaci√≥n necesitar√° m√°s espacio.

- **Advanced details:**
    - Puedes dejar la mayor√≠a de las opciones por defecto aqu√≠.

## 3. Revisar y Lanzar la Instancia ‚úÖ

1. Revisa el resumen de la configuraci√≥n en el panel derecho. Aseg√∫rate de que el **"Instance type"** (`t2.micro`) y la **"AMI"** (Ubuntu 22.04 LTS) digan **"Free tier eligible"**.
2. Haz clic en el bot√≥n naranja **"Launch instance"**.

La instancia tardar√° unos minutos en lanzarse y cambiar su estado de `pending` a `running`.

## 4. Obtener la IP P√∫blica de Tu Instancia üåê

Una vez que la instancia est√© en estado `running`:

1. En la consola de EC2, ve a **"Instances"** en el panel izquierdo.
2. Selecciona tu nueva instancia (`blogdepruebaaws-server`).
3. En la parte inferior, en la secci√≥n **"Details"**, busca **"Public IPv4 address"**.
4. **Copia esta direcci√≥n IP.** La usar√°s para conectarte v√≠a SSH y para acceder a tu aplicaci√≥n desde el navegador.